<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.108.0">
    <meta name="description" content="">


    <link rel="icon" href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/images/favicon.png" type="image/png">

    <title>Initial use case :: WebLogic Kubernetes Operator</title>

    
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/css/nucleus.css?1707276055" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/css/fontawesome-all.min.css?1707276055" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/css/hybrid.css?1707276055" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/css/featherlight.min.css?1707276055" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/css/perfect-scrollbar.min.css?1707276055" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/css/auto-complete.css?1707276055" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/css/atom-one-dark-reasonable.css?1707276055" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/css/theme.css?1707276055" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/css/tabs.css?1707276055" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/css/hugo-theme.css?1707276055" rel="stylesheet">
    
    

    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.0/js/jquery-3.6.0.min.js?1707276055"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/initial/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://oracle.github.io/weblogic-kubernetes-operator/4.0">
  <img src="https://oracle.github.io/weblogic-kubernetes-operator/4.0/images/logo.png" height="90"><br/>
  WebLogic Kubernetes Operator
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="https://oracle.github.io/weblogic-kubernetes-operator/4.0/js/lunr.min.js?1707276055"></script>
<script type="text/javascript" src="https://oracle.github.io/weblogic-kubernetes-operator/4.0/js/auto-complete.js?1707276055"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/oracle.github.io\/weblogic-kubernetes-operator\/4.0";
    
</script>
<script type="text/javascript" src="https://oracle.github.io/weblogic-kubernetes-operator/4.0/js/search.js?1707276055"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">
      <li><a  class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/4.0">Home</a></li>
        
          
          




 
  
    
    <li data-nav-id="/quickstart/" title="Quick Start" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/quickstart/">
          <b> </b>Quick Start
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/quickstart/install/" title="Install the operator and ingress controller" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/quickstart/install/">
        Install the operator and ingress controller
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/quickstart/prepare/" title="Prepare for a domain" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/quickstart/prepare/">
        Prepare for a domain
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/quickstart/create-domain/" title="Create a domain" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/quickstart/create-domain/">
        Create a domain
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/quickstart/cleanup/" title="Clean up" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/quickstart/cleanup/">
        Clean up
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/quickstart/summary/" title="Under the covers" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/quickstart/summary/">
        Under the covers
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/introduction/" title="Introduction" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/introduction/">
          <b> </b>Introduction
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/introduction/terms/" title="Important terms" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/introduction/terms/">
        Important terms
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/introduction/design/" title="Design philosophy" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/introduction/design/">
        Design philosophy
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/introduction/architecture/" title="Architecture" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/introduction/architecture/">
        Architecture
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/introduction/get-help/" title="Get help" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/introduction/get-help/">
        Get help
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/introduction/prerequisites/introduction/" title="Operator prerequisites" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/introduction/prerequisites/introduction/">
        Operator prerequisites
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/introduction/platforms/environments/" title="Supported environments" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/introduction/platforms/environments/">
        Supported environments
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/managing-operators/" title="Manage operators" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-operators/">
          <b> </b>Manage operators
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/overview/" title="Overview" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-operators/overview/">
        Overview
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/preparation/" title="Prepare for installation" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-operators/preparation/">
        Prepare for installation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/installation/" title="Installation and upgrade" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-operators/installation/">
        Installation and upgrade
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/conversion-webhook/" title="Domain upgrade" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-operators/conversion-webhook/">
        Domain upgrade
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/using-helm/" title="Configuration reference" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-operators/using-helm/">
        Configuration reference
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/namespace-management/" title="Namespace management" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-operators/namespace-management/">
        Namespace management
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/service-accounts/" title="Service accounts" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-operators/service-accounts/">
        Service accounts
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/rbac/" title="RBAC" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-operators/rbac/">
        RBAC
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/the-rest-api/" title="REST services" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-operators/the-rest-api/">
        REST services
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/k8s-setup/" title="Set up Kubernetes" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-operators/k8s-setup/">
        Set up Kubernetes
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/common-mistakes/" title="Common mistakes and solutions" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-operators/common-mistakes/">
        Common mistakes and solutions
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/troubleshooting/" title="Troubleshooting" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-operators/troubleshooting/">
        Troubleshooting
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/managing-domains/" title="Manage domains" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/">
          Manage domains
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/manage-domains/" title="About WebLogic domains" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/manage-domains/">
        About WebLogic domains
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/choosing-a-model/" title="Choose a domain home source type" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/choosing-a-model/">
          Choose a domain home source type
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-resource/" title="Domain and Cluster resources" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/domain-resource/">
        <b> </b>Domain and Cluster resources
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/upgrade-domain-resource/" title="Upgrade Domain resource" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/upgrade-domain-resource/">
          <b> </b>Upgrade Domain resource
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/prepare/" title="Prepare to run a domain" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/prepare/">
        Prepare to run a domain
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/model-in-image/" title="Model in Image" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/model-in-image/">
          <b> </b>Model in Image
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/model-in-image/overview/" title="Overview" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/model-in-image/overview/">
        <b> </b>Overview
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/model-in-image/usage/" title="Usage" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/model-in-image/usage/">
        <b> </b>Usage
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/model-in-image/auxiliary-images/" title="Auxiliary images" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/model-in-image/auxiliary-images/">
        <b> </b>Auxiliary images
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/model-in-image/model-files/" title="Model files" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/model-in-image/model-files/">
        <b> </b>Model files
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/model-in-image/runtime-updates/" title="Runtime updates" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/model-in-image/runtime-updates/">
        <b> </b>Runtime updates
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/configoverrides/" title="Configuration overrides" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/configoverrides/">
          <b> </b>Configuration overrides
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/persistent-storage/" title="Persistent volumes" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/persistent-storage/">
          <b> </b>Persistent volumes
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/persistent-storage/host-paths/" title="Host paths and other PVs" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/persistent-storage/host-paths/">
        Host paths and other PVs
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/persistent-storage/oci-fss-pv/" title="Use OCI File Storage (FSS) for persistent volumes" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/persistent-storage/oci-fss-pv/">
        Use OCI File Storage (FSS) for persistent volumes
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/persistent-storage/volumes/" title="Provide access to a PersistentVolumeClaim" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/persistent-storage/volumes/">
        Provide access to a PersistentVolumeClaim
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/persistent-storage/configmaps/" title="Provide access to a ConfigMap" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/persistent-storage/configmaps/">
        Provide access to a ConfigMap
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/accessing-the-domain/" title="Access and monitor domains" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/accessing-the-domain/">
          <b> </b>Access and monitor domains
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/weblogic-admin-console/" title="Use the Administration Console" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/accessing-the-domain/weblogic-admin-console/">
        Use the Administration Console
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/remote-admin-console/" title="Use the Remote Console" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/accessing-the-domain/remote-admin-console/">
        Use the Remote Console
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/wlst/" title="Use WLST" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/accessing-the-domain/wlst/">
        Use WLST
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/port-forward/" title="Use port forwarding" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/accessing-the-domain/port-forward/">
        Use port forwarding
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/accessing-the-domain/ingress/" title="Ingress" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/accessing-the-domain/ingress/">
          Ingress
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/oci-lb/" title="Use an OCI load balancer" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/accessing-the-domain/oci-lb/">
        Use an OCI load balancer
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/istio/istio/" title="Istio support" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/accessing-the-domain/istio/istio/">
        Istio support
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/external-clients/" title="External WebLogic clients" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/accessing-the-domain/external-clients/">
        External WebLogic clients
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/domain-events/" title="Domain events" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/accessing-the-domain/domain-events/">
        Domain events
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/status-conditions/" title="Status conditions" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/accessing-the-domain/status-conditions/">
        Status conditions
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/logs/" title="Log files" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/accessing-the-domain/logs/">
        Log files
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/monitoring-exporter/" title="Monitoring exporter" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/accessing-the-domain/monitoring-exporter/">
        Monitoring exporter
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/domain-lifecycle/" title="Domain life cycle" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/domain-lifecycle/">
          <b> </b>Domain life cycle
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-lifecycle/startup/" title="Startup and shutdown" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/domain-lifecycle/startup/">
        Startup and shutdown
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-lifecycle/restarting/" title="Restarting" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/domain-lifecycle/restarting/">
        Restarting
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-lifecycle/scaling/" title="Scaling" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/domain-lifecycle/scaling/">
        Scaling
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-lifecycle/introspection/" title="Domain introspection" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/domain-lifecycle/introspection/">
        Domain introspection
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-lifecycle/liveness-readiness-probe-customization/" title="Liveness and readiness probes customization" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/domain-lifecycle/liveness-readiness-probe-customization/">
        Liveness and readiness probes customization
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-lifecycle/retry/" title="Domain failure retry processing" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/domain-lifecycle/retry/">
        Domain failure retry processing
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-lifecycle/scripts/" title="Lifecycle scripts" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/domain-lifecycle/scripts/">
        Lifecycle scripts
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/cicd/" title="CI/CD considerations" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/cicd/">
          CI/CD considerations
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/cicd/layering/" title="Container image layering" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/cicd/layering/">
        Container image layering
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/cicd/why-layering-matters/" title="Why layering matters" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/cicd/why-layering-matters/">
        Why layering matters
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/cicd/choose-an-approach/" title="Choose an approach" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/cicd/choose-an-approach/">
        Choose an approach
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/cicd/mutate-the-domain-layer/" title="Mutate the domain layer" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/cicd/mutate-the-domain-layer/">
        Mutate the domain layer
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/cicd/how-to-copy-domains/" title="Copy domains" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/cicd/how-to-copy-domains/">
        Copy domains
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/cicd/tools/" title="Tools" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/cicd/tools/">
        Tools
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/managing-fmw-domains/" title="Manage FMW Infrastructure domains" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/managing-fmw-domains/">
          Manage FMW Infrastructure domains
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/aks/" title="Azure Kubernetes Service (AKS)" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/aks/">
          Azure Kubernetes Service (AKS)
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/debugging/" title="Domain debugging" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/debugging/">
        <b> </b>Domain debugging
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/base-images/" title="WebLogic images" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/base-images/">
          <b> </b>WebLogic images
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/base-images/ocr-images/" title="OCR images" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/base-images/ocr-images/">
        OCR images
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/base-images/custom-images/" title="Create custom images" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/base-images/custom-images/">
        Create custom images
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/base-images/patch-images/" title="Patch running domains" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/base-images/patch-images/">
        Patch running domains
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/base-images/access-images/" title="Access domain images" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/base-images/access-images/">
        Access domain images
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/samples/" title="Samples" class="dd-item
        parent
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/">
          <b> </b>Samples
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/samples/credentials/" title="Credentials" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/credentials/">
          Credentials
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/storage/" title="Storage" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/storage/">
          Storage
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/database/" title="Run a database" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/database/">
          Run a database
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/domains/" title="Domains" class="dd-item
        parent
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/">
          Domains
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/samples/domains/manually-create-domain/" title="Manually" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/manually-create-domain/">
          Manually
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/domains/domain-home-on-pv/" title="Domain home on a PV" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/domain-home-on-pv/">
          Domain home on a PV
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/domains/domain-home-in-image/" title="Domain home in image" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/domain-home-in-image/">
          Domain home in image
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/domains/model-in-image/" title="Model in image" class="dd-item
        parent
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/">
          Model in image
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/model-in-image/prerequisites/" title="Prerequisites" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/prerequisites/">
        Prerequisites
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/model-in-image/initial/" title="Initial use case" class="dd-item active">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/initial/">
        Initial use case
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/model-in-image/update1/" title="Update 1" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/update1/">
        Update 1
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/model-in-image/update2/" title="Update 2" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/update2/">
        Update 2
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/model-in-image/update3/" title="Update 3" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/update3/">
        Update 3
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/model-in-image/update4/" title="Update 4" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/update4/">
        Update 4
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/model-in-image/cleanup/" title="Cleanup" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/cleanup/">
        Cleanup
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/domains/fmw-domain/" title="FMW Infrastructure domain on a PV" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/fmw-domain/">
          FMW Infrastructure domain on a PV
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/domains/fmw-domain-home-in-image/" title="FMW Infrastructure domain home in image" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/fmw-domain-home-in-image/">
          FMW Infrastructure domain home in image
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/domains/delete-domain/" title="Delete resources associated with the domain" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/delete-domain/">
          Delete resources associated with the domain
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/domains/lifecycle/" title="Domain lifecycle operations" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/lifecycle/">
          Domain lifecycle operations
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/rest/" title="REST APIs" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/rest/">
          REST APIs
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/ingress/" title="Ingress" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/ingress/">
          Ingress
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/elastic-stack/" title="Elastic Stack" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/elastic-stack/">
          Elastic Stack
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/samples/elastic-stack/operator/" title="Operator" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/elastic-stack/operator/">
          Operator
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/elastic-stack/weblogic-domain/" title="WebLogic domain" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/elastic-stack/weblogic-domain/">
          WebLogic domain
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/azure-kubernetes-service/" title="Azure Kubernetes Service" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/azure-kubernetes-service/">
          Azure Kubernetes Service
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/samples/azure-kubernetes-service/domain-on-pv/" title="Domain home on a PV" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/azure-kubernetes-service/domain-on-pv/">
        Domain home on a PV
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/azure-kubernetes-service/model-in-image/" title="Model in Image" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/azure-kubernetes-service/model-in-image/">
        Model in Image
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/azure-kubernetes-service/troubleshooting/" title="Troubleshooting" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/azure-kubernetes-service/troubleshooting/">
        Troubleshooting
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/tanzu-kubernetes-service/" title="Tanzu Kubernetes Service" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/tanzu-kubernetes-service/">
          Tanzu Kubernetes Service
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/developerguide/" title="Developer Guide" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/developerguide/">
          <b> </b>Developer Guide
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/developerguide/contributing/" title="Contribute to the operator" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/developerguide/contributing/">
        Contribute to the operator
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/requirements/" title="Requirements" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/developerguide/requirements/">
        Requirements
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/building/" title="Building" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/developerguide/building/">
        Building
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/integration-tests/" title="Integration tests" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/developerguide/integration-tests/">
        Integration tests
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/branching/" title="Branching" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/developerguide/branching/">
        Branching
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/coding-standards/" title="Coding standards" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/developerguide/coding-standards/">
        Coding standards
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/code-structure/" title="Code structure" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/developerguide/code-structure/">
        Code structure
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/asynchronous-call-model/" title="Asynchronous call model" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/developerguide/asynchronous-call-model/">
        Asynchronous call model
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/domain-processing/" title="Domain processing" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/developerguide/domain-processing/">
        Domain processing
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/documentation/" title="Documentation" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/developerguide/documentation/">
        Documentation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/backwards-compatibility/" title="Backward compatibility" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/developerguide/backwards-compatibility/">
        Backward compatibility
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/reference/" title="Reference" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/reference/">
          <b> </b>Reference
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/reference/domain-resource/" title="Domain resource" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/reference/domain-resource/">
        Domain resource
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/security/" title="Security" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/security/">
          <b> </b>Security
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/security/certificates/" title="Certificates" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/security/certificates/">
        Certificates
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/security/domain-security/" title="Domain security" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/security/domain-security/">
          Domain security
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/security/domain-security/pod-and-container/" title="Pod and container security" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/security/domain-security/pod-and-container/">
        Pod and container security
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/security/domain-security/image-protection/" title="Container image protection" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/security/domain-security/image-protection/">
        Container image protection
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/security/domain-security/weblogic-channels/" title="External network access security" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/security/domain-security/weblogic-channels/">
        External network access security
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/security/encryption/" title="Encryption" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/security/encryption/">
        Encryption
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/security/service-accounts/" title="Service accounts" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/security/service-accounts/">
        Service accounts
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/security/rbac/" title="RBAC" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/security/rbac/">
        RBAC
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/security/secrets/" title="Secrets" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/security/secrets/">
        Secrets
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/security/openshift/" title="OpenShift" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/security/openshift/">
        OpenShift
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/faq/" title="Frequently asked questions" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/faq/">
          Frequently asked questions
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/faq/newbie/" title="Answers for newcomers" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/faq/newbie/">
        Answers for newcomers
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/cannot-pull-image/" title="Cannot pull image" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/faq/cannot-pull-image/">
        Cannot pull image
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/boot-identity-not-valid/" title="Boot identity not valid" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/faq/boot-identity-not-valid/">
        Boot identity not valid
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/domain-secret-mismatch/" title="Domain secret mismatch" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/faq/domain-secret-mismatch/">
        Domain secret mismatch
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/node-heating/" title="Node heating problem" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/faq/node-heating/">
        Node heating problem
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/fan/" title="Disabling Fast Application Notifications" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/faq/fan/">
        Disabling Fast Application Notifications
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/coherence-requirements/" title="Coherence requirements" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/faq/coherence-requirements/">
        Coherence requirements
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/resource-settings/" title="Pod memory and CPU resources" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/faq/resource-settings/">
        Pod memory and CPU resources
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/security-validation/" title="Handling security validations" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/faq/security-validation/">
        Handling security validations
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/node-selector/" title="Scheduling pods to particular nodes" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/faq/node-selector/">
        Scheduling pods to particular nodes
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
      <li><a  class="padding" href="https://github.com/oracle/weblogic-kubernetes-operator/releases">Releases</a></li>
    </ul>

    
    

    
    <section id="footer">
      <p>Created with <i class="fas fa-heart"></i> from <a href="https://www.oracle.com">Oracle</a></p>
<p>&nbsp</p>
<p><a href="https://github.com/oracle/weblogic-kubernetes-operator"><i class="fab fa-github"></i> GitHub repo</a></p>
<p><a href="https://join.slack.com/t/oracle-weblogic/shared_invite/zt-1ni1gtjv6-PGC6CQ4uIte3KBdm_67~aQ"><i class="fab fa-slack"></i> Public Slack #operator</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='https://oracle.github.io/weblogic-kubernetes-operator/4.0/'></a> > <a href='https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/'>Samples</a> > <a href='https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/'>Domains</a> > <a href='https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/'>Model in image</a> > Initial use case
          
        
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#contents">Contents</a>
      <ul>
        <li><a href="#overview">Overview</a></li>
        <li><a href="#image-creation---introduction">Image creation - Introduction</a></li>
        <li><a href="#understanding-your-first-archive">Understanding your first archive</a></li>
        <li><a href="#staging-a-zip-file-of-the-archive">Staging a ZIP file of the archive</a></li>
        <li><a href="#staging-model-files">Staging model files</a></li>
        <li><a href="#creating-the-image-with-wit">Creating the image with WIT</a></li>
        <li><a href="#deploy-resources---introduction">Deploy resources - Introduction</a></li>
        <li><a href="#secrets">Secrets</a></li>
        <li><a href="#domain-resource">Domain resource</a></li>
        <li><a href="#invoke-the-web-application">Invoke the web application</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Initial use case
            </h1>
          

        


<h3 id="contents">Contents</h3>
<ul>
<li><a href="#overview">Overview</a></li>
<li>Image creation
<ul>
<li><a href="#image-creation---introduction">Image creation - Introduction</a></li>
<li><a href="#understanding-your-first-archive">Understanding your first archive</a></li>
<li><a href="#staging-a-zip-file-of-the-archive">Staging a ZIP file of the archive</a></li>
<li><a href="#staging-model-files">Staging model files</a></li>
<li><a href="#creating-the-image-with-wit">Creating the image with WIT</a></li>
</ul>
</li>
<li>Deploy resources
<ul>
<li><a href="#deploy-resources---introduction">Deploy resources - Introduction</a></li>
<li><a href="#secrets">Secrets</a></li>
<li><a href="#domain-resource">Domain resource</a></li>
</ul>
</li>
</ul>
<h4 id="overview">Overview</h4>
<p>In this use case, you set up an initial WebLogic domain. This involves:</p>
<ul>
<li>Creating an auxiliary image with:
<ul>
<li>A WDT archive ZIP file that contains your applications.</li>
<li>A WDT model that describes your WebLogic configuration.</li>
<li>A WDT installation that contains the binaries for running WDT.</li>
</ul>
</li>
<li>Creating secrets for the domain.</li>
<li>Creating a Domain YAML file for the domain that references your Secrets, auxiliary image, and a WebLogic image.</li>
</ul>
<p>After the Domain is deployed, the operator starts an &lsquo;introspector job&rsquo; that converts your models into a WebLogic configuration, and then passes this configuration to each WebLogic Server in the domain.</p>

<div class="notices note" ><p>Perform the steps in <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/prerequisites/">Prerequisites for all domain types</a> before performing the steps in this use case.<br>
If you are taking the <code>JRF</code> path through the sample, then substitute <code>JRF</code> for <code>WLS</code> in your image names and directory paths. Also note that the JRF-AI-v1 model YAML file differs from the WLS-AI-v1 YAML file (it contains an additional <code>domainInfo -&gt; RCUDbInfo</code> stanza).</p>
</div>

<h4 id="image-creation---introduction">Image creation - Introduction</h4>
<p>The goal of the initial use case &lsquo;image creation&rsquo; step is to demonstrate using the WebLogic Image Tool to create an auxiliary image named <code>model-in-image:WLS-AI-v1</code> from files that you will stage to <code>/tmp/mii-sample/model-images/model-in-image__WLS-AI-v1/</code>. The staged files will contain a web application in a WDT archive, and WDT model configuration for a WebLogic Server Administration Server called <code>admin-server</code> and a WebLogic cluster called <code>cluster-1</code>.</p>
<p>A Model in Image domain typically supplies one or more auxiliary images with:</p>
<ul>
<li>A WebLogic Deploy Tooling installation (expected in an image&rsquo;s <code>/auxiliary/weblogic-deploy</code> directory by default).</li>
<li>WDT model YAML, property, and archive files (expected in directory <code>/auxiliary/models</code> by default).</li>
</ul>
<p>If you do not specify a WDT model YAML file in an auxiliary image,
then the model YAML file alternately can be supplied dynamically using a Kubernetes ConfigMap
that is referenced by your Domain <code>spec.model.configMap</code> field.
We provide an example of using a model ConfigMap later in this sample.</p>
<p>Here are the steps for creating the image <code>model-in-image:WLS-AI-v1</code>:</p>
<ul>
<li><a href="#understanding-your-first-archive">Understanding your first archive</a></li>
<li><a href="#staging-a-zip-file-of-the-archive">Staging a ZIP file of the archive</a></li>
<li><a href="#staging-model-files">Staging model files</a></li>
<li><a href="#creating-the-image-with-wit">Creating the image with WIT</a></li>
</ul>
<h4 id="understanding-your-first-archive">Understanding your first archive</h4>
<p>The sample includes a predefined archive directory in <code>/tmp/mii-sample/archives/archive-v1</code> that you will use to create an archive ZIP file for the image.</p>
<p>The archive top directory, named <code>wlsdeploy</code>, contains a directory named <code>applications</code>, which includes an &rsquo;exploded&rsquo; sample JSP web application in the directory, <code>myapp-v1</code>. Three useful aspects to remember about WDT archives are:</p>
<ul>
<li>A model image can contain multiple WDT archives.</li>
<li>WDT archives can contain multiple applications, libraries, and other components.</li>
<li>WDT archives have a <a href="https://oracle.github.io/weblogic-deploy-tooling/concepts/archive/">well defined directory structure</a>, which always has <code>wlsdeploy</code> as the top directory.</li>
</ul>

<div class="expand">
    <div class="expand-label" style="cursor: pointer;" onclick="$h = $(this);$h.next('div').slideToggle(100,function () {$h.children('i').attr('class',function () {return $h.next('div').is(':visible') ? 'fas fa-chevron-down' : 'fas fa-chevron-right';});});">
        <i style="font-size:x-small;" class="fas fa-chevron-right"></i>
        <span>
        
    	
    	If you are interested in the web application source, click here to see the JSP code.
    	
    	</span>
    </div>
    <div class="expand-content" style="display: none;">
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">&lt;%--</span> Copyright <span style="color:#f92672">(</span>c<span style="color:#f92672">)</span> <span style="color:#ae81ff">2019</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">2021</span><span style="color:#f92672">,</span> Oracle and<span style="color:#f92672">/</span>or its affiliates<span style="color:#f92672">.</span> <span style="color:#f92672">--%&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;%--</span> Licensed under the Universal Permissive License v <span style="color:#ae81ff">1.0</span> as shown at https<span style="color:#f92672">:</span><span style="color:#75715e">//oss.oracle.com/licenses/upl. --%&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">&lt;%</span><span style="color:#960050;background-color:#1e0010">@</span> page import<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;javax.naming.InitialContext&#34;</span> <span style="color:#f92672">%&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;%</span><span style="color:#960050;background-color:#1e0010">@</span> page import<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;javax.management.*&#34;</span> <span style="color:#f92672">%&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;%</span><span style="color:#960050;background-color:#1e0010">@</span> page import<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;java.io.*&#34;</span> <span style="color:#f92672">%&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;%</span>
</span></span><span style="display:flex;"><span>  InitialContext ic <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    ic <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> InitialContext<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    String srName<span style="color:#f92672">=</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">getProperty</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;weblogic.Name&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    String domainUID<span style="color:#f92672">=</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">getenv</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;DOMAIN_UID&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    String domainName<span style="color:#f92672">=</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">getenv</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;CUSTOM_DOMAIN_NAME&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;&lt;html&gt;&lt;body&gt;&lt;pre&gt;&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;*****************************************************************&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Hello World! This is version &#39;v1&#39; of the mii-sample JSP web-app.&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Welcome to WebLogic Server &#39;&#34;</span> <span style="color:#f92672">+</span> srName <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;&#39;!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;  domain UID  = &#39;&#34;</span> <span style="color:#f92672">+</span> domainUID <span style="color:#f92672">+</span><span style="color:#e6db74">&#34;&#39;&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;  domain name = &#39;&#34;</span> <span style="color:#f92672">+</span> domainName <span style="color:#f92672">+</span><span style="color:#e6db74">&#34;&#39;&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    MBeanServer mbs <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>MBeanServer<span style="color:#f92672">)</span>ic<span style="color:#f92672">.</span><span style="color:#a6e22e">lookup</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;java:comp/env/jmx/runtime&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// display the current server&#39;s cluster name
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    Set<span style="color:#f92672">&lt;</span>ObjectInstance<span style="color:#f92672">&gt;</span> clusterRuntimes <span style="color:#f92672">=</span> mbs<span style="color:#f92672">.</span><span style="color:#a6e22e">queryMBeans</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> ObjectName<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;*:Type=ClusterRuntime,*&#34;</span><span style="color:#f92672">),</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Found &#34;</span> <span style="color:#f92672">+</span> clusterRuntimes<span style="color:#f92672">.</span><span style="color:#a6e22e">size</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; local cluster runtime&#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>String<span style="color:#f92672">)((</span>clusterRuntimes<span style="color:#f92672">.</span><span style="color:#a6e22e">size</span><span style="color:#f92672">()!=</span><span style="color:#ae81ff">1</span><span style="color:#f92672">)?</span><span style="color:#e6db74">&#34;s&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">)</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;:&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>ObjectInstance clusterRuntime <span style="color:#f92672">:</span> clusterRuntimes<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>       String cName <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>String<span style="color:#f92672">)</span>mbs<span style="color:#f92672">.</span><span style="color:#a6e22e">getAttribute</span><span style="color:#f92672">(</span>clusterRuntime<span style="color:#f92672">.</span><span style="color:#a6e22e">getObjectName</span><span style="color:#f92672">(),</span> <span style="color:#e6db74">&#34;Name&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>       out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;  Cluster &#39;&#34;</span> <span style="color:#f92672">+</span> cName <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;&#39;&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// display the Work Manager configuration created by the sample
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    Set<span style="color:#f92672">&lt;</span>ObjectInstance<span style="color:#f92672">&gt;</span> minTCRuntimes <span style="color:#f92672">=</span> mbs<span style="color:#f92672">.</span><span style="color:#a6e22e">queryMBeans</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> ObjectName<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;*:Type=MinThreadsConstraintRuntime,Name=SampleMinThreads,*&#34;</span><span style="color:#f92672">),</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>ObjectInstance minTCRuntime <span style="color:#f92672">:</span> minTCRuntimes<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>       String cName <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>String<span style="color:#f92672">)</span>mbs<span style="color:#f92672">.</span><span style="color:#a6e22e">getAttribute</span><span style="color:#f92672">(</span>minTCRuntime<span style="color:#f92672">.</span><span style="color:#a6e22e">getObjectName</span><span style="color:#f92672">(),</span> <span style="color:#e6db74">&#34;Name&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">int</span> count <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span>mbs<span style="color:#f92672">.</span><span style="color:#a6e22e">getAttribute</span><span style="color:#f92672">(</span>minTCRuntime<span style="color:#f92672">.</span><span style="color:#a6e22e">getObjectName</span><span style="color:#f92672">(),</span> <span style="color:#e6db74">&#34;ConfiguredCount&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>       out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Found min threads constraint runtime named &#39;&#34;</span> <span style="color:#f92672">+</span> cName <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;&#39; with configured count: &#34;</span> <span style="color:#f92672">+</span> count<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Set<span style="color:#f92672">&lt;</span>ObjectInstance<span style="color:#f92672">&gt;</span> maxTCRuntimes <span style="color:#f92672">=</span> mbs<span style="color:#f92672">.</span><span style="color:#a6e22e">queryMBeans</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> ObjectName<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;*:Type=MaxThreadsConstraintRuntime,Name=SampleMaxThreads,*&#34;</span><span style="color:#f92672">),</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>ObjectInstance maxTCRuntime <span style="color:#f92672">:</span> maxTCRuntimes<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>       String cName <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>String<span style="color:#f92672">)</span>mbs<span style="color:#f92672">.</span><span style="color:#a6e22e">getAttribute</span><span style="color:#f92672">(</span>maxTCRuntime<span style="color:#f92672">.</span><span style="color:#a6e22e">getObjectName</span><span style="color:#f92672">(),</span> <span style="color:#e6db74">&#34;Name&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">int</span> count <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span>mbs<span style="color:#f92672">.</span><span style="color:#a6e22e">getAttribute</span><span style="color:#f92672">(</span>maxTCRuntime<span style="color:#f92672">.</span><span style="color:#a6e22e">getObjectName</span><span style="color:#f92672">(),</span> <span style="color:#e6db74">&#34;ConfiguredCount&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>       out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Found max threads constraint runtime named &#39;&#34;</span> <span style="color:#f92672">+</span> cName <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;&#39; with configured count: &#34;</span> <span style="color:#f92672">+</span> count<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// display local data sources
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// - note that data source tests are expected to fail until the sample Update 4 use case updates the data source&#39;s secret
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    ObjectName jdbcRuntime <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ObjectName<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;com.bea:ServerRuntime=&#34;</span> <span style="color:#f92672">+</span> srName <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;,Name=&#34;</span> <span style="color:#f92672">+</span> srName <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;,Type=JDBCServiceRuntime&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    ObjectName<span style="color:#f92672">[]</span> dataSources <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>ObjectName<span style="color:#f92672">[])</span>mbs<span style="color:#f92672">.</span><span style="color:#a6e22e">getAttribute</span><span style="color:#f92672">(</span>jdbcRuntime<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;JDBCDataSourceRuntimeMBeans&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Found &#34;</span> <span style="color:#f92672">+</span> dataSources<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; local data source&#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>String<span style="color:#f92672">)((</span>dataSources<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">!=</span><span style="color:#ae81ff">1</span><span style="color:#f92672">)?</span><span style="color:#e6db74">&#34;s&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">)</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;:&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>ObjectName dataSource <span style="color:#f92672">:</span> dataSources<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>       String dsName  <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>String<span style="color:#f92672">)</span>mbs<span style="color:#f92672">.</span><span style="color:#a6e22e">getAttribute</span><span style="color:#f92672">(</span>dataSource<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Name&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>       String dsState <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>String<span style="color:#f92672">)</span>mbs<span style="color:#f92672">.</span><span style="color:#a6e22e">getAttribute</span><span style="color:#f92672">(</span>dataSource<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;State&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>       String dsTest  <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>String<span style="color:#f92672">)</span>mbs<span style="color:#f92672">.</span><span style="color:#a6e22e">invoke</span><span style="color:#f92672">(</span>dataSource<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;testPool&#34;</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">new</span> Object<span style="color:#f92672">[]</span> <span style="color:#f92672">{},</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">[]</span> <span style="color:#f92672">{});</span>
</span></span><span style="display:flex;"><span>       out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>
</span></span><span style="display:flex;"><span>           <span style="color:#e6db74">&#34;  Datasource &#39;&#34;</span> <span style="color:#f92672">+</span> dsName <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;&#39;: &#34;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; State=&#39;&#34;</span> <span style="color:#f92672">+</span> dsState <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;&#39;,&#34;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; testPool=&#39;&#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>String<span style="color:#f92672">)(</span>dsTest<span style="color:#f92672">==</span><span style="color:#66d9ef">null</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;Passed&#34;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Failed&#34;</span><span style="color:#f92672">)</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;&#39;&#34;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>dsTest <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>         out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>
</span></span><span style="display:flex;"><span>               <span style="color:#e6db74">&#34;    ---TestPool Failure Reason---\n&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;    NOTE: Ignore &#39;mynewdatasource&#39; failures until the MII sample&#39;s Update 4 use case.\n&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;    ---\n&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;    &#34;</span> <span style="color:#f92672">+</span> dsTest<span style="color:#f92672">.</span><span style="color:#a6e22e">replaceAll</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;\n&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;\n   &#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">replaceAll</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;\n *\n&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;\n&#34;</span><span style="color:#f92672">)</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;\n&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;    -----------------------------&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>       <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;*****************************************************************&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Throwable t<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    t<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> PrintStream<span style="color:#f92672">(</span>response<span style="color:#f92672">.</span><span style="color:#a6e22e">getOutputStream</span><span style="color:#f92672">()));</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span> <span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;&lt;/pre&gt;&lt;/body&gt;&lt;/html&gt;&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>ic <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> ic<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">%&gt;</span>
</span></span></code></pre></div>
    </div>
</div>
<p>The application displays important details about the WebLogic Server instance that it&rsquo;s running on: namely its domain name, cluster name, and server name, as well as the names of any data sources that are targeted to the server. Also, you can see that application output reports that it&rsquo;s at version <code>v1</code>; you will update this to <code>v2</code> in a later use case that demonstrates upgrading the application.</p>
<h4 id="staging-a-zip-file-of-the-archive">Staging a ZIP file of the archive</h4>
<p>When you create the image, you will use the files in the staging directory, <code>/tmp/mii-sample/model-images/model-in-image__WLS-AI-v1</code>. In preparation, you need it to contain a ZIP file of the WDT application archive.</p>
<p>Run the following commands to create your application archive ZIP file and put it in the expected directory:</p>
<pre tabindex="0"><code># Delete existing archive.zip in case we have an old leftover version
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ rm -f /tmp/mii-sample/model-images/model-in-image__WLS-AI-v1/archive.zip
</span></span></code></pre></div><pre tabindex="0"><code># Move to the directory which contains the source files for our archive
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cd /tmp/mii-sample/archives/archive-v1
</span></span></code></pre></div><pre tabindex="0"><code># Zip the archive to the location will later use when we run the WebLogic Image Tool
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ zip -r /tmp/mii-sample/model-images/model-in-image__WLS-AI-v1/archive.zip wlsdeploy
</span></span></code></pre></div><h4 id="staging-model-files">Staging model files</h4>
<p>In this step, you explore the staged WDT model YAML file and properties in the <code>/tmp/mii-sample/model-images/model-in-image__WLS-AI-v1</code> directory. The model in this directory references the web application in your archive, configures a WebLogic Server Administration Server, and configures a WebLogic cluster. It consists of two files only, <code>model.10.properties</code>, a file with a single property, and, <code>model.10.yaml</code>, a YAML file with your WebLogic configuration <code>model.10.yaml</code>.</p>
<pre tabindex="0"><code>CLUSTER_SIZE=5
</code></pre><p>Here is the WLS <code>model.10.yaml</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">domainInfo</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">AdminUserName</span>: <span style="color:#e6db74">&#39;@@SECRET:__weblogic-credentials__:username@@&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">AdminPassword</span>: <span style="color:#e6db74">&#39;@@SECRET:__weblogic-credentials__:password@@&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ServerStartMode</span>: <span style="color:#e6db74">&#39;prod&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">topology</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Name</span>: <span style="color:#e6db74">&#39;@@ENV:CUSTOM_DOMAIN_NAME@@&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">AdminServerName</span>: <span style="color:#e6db74">&#39;admin-server&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Cluster</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#39;cluster-1&#39;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">DynamicServers</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">ServerTemplate</span>:  <span style="color:#e6db74">&#39;cluster-1-template&#39;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">ServerNamePrefix</span>: <span style="color:#e6db74">&#39;managed-server&#39;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">DynamicClusterSize</span>: <span style="color:#e6db74">&#39;@@PROP:CLUSTER_SIZE@@&#39;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">MaxDynamicClusterSize</span>: <span style="color:#e6db74">&#39;@@PROP:CLUSTER_SIZE@@&#39;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">MinDynamicClusterSize</span>: <span style="color:#e6db74">&#39;0&#39;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">CalculatedListenPorts</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Server</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#39;admin-server&#39;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ListenPort</span>: <span style="color:#ae81ff">7001</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ServerTemplate</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#39;cluster-1-template&#39;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Cluster</span>: <span style="color:#e6db74">&#39;cluster-1&#39;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ListenPort</span>: <span style="color:#ae81ff">8001</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">appDeployments</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Application</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">myapp</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">SourcePath</span>: <span style="color:#e6db74">&#39;wlsdeploy/applications/myapp-v1&#39;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ModuleType</span>: <span style="color:#ae81ff">ear</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Target</span>: <span style="color:#e6db74">&#39;cluster-1&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">resources</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">SelfTuning</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">MinThreadsConstraint</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">SampleMinThreads</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Target</span>: <span style="color:#e6db74">&#39;cluster-1&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Count</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">MaxThreadsConstraint</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">SampleMaxThreads</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Target</span>: <span style="color:#e6db74">&#39;cluster-1&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Count</span>: <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">WorkManager</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">SampleWM</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Target</span>: <span style="color:#e6db74">&#39;cluster-1&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">MinThreadsConstraint</span>: <span style="color:#e6db74">&#39;SampleMinThreads&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">MaxThreadsConstraint</span>: <span style="color:#e6db74">&#39;SampleMaxThreads&#39;</span>
</span></span></code></pre></div>
<div class="expand">
    <div class="expand-label" style="cursor: pointer;" onclick="$h = $(this);$h.next('div').slideToggle(100,function () {$h.children('i').attr('class',function () {return $h.next('div').is(':visible') ? 'fas fa-chevron-down' : 'fas fa-chevron-right';});});">
        <i style="font-size:x-small;" class="fas fa-chevron-right"></i>
        <span>
        
    	
    	Click here to view the JRF `model.10.yaml`, and note the `RCUDbInfo` stanza and its references to a `DOMAIN_UID-rcu-access` secret.
    	
    	</span>
    </div>
    <div class="expand-content" style="display: none;">
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">domainInfo</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">AdminUserName</span>: <span style="color:#e6db74">&#39;@@SECRET:__weblogic-credentials__:username@@&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">AdminPassword</span>: <span style="color:#e6db74">&#39;@@SECRET:__weblogic-credentials__:password@@&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ServerStartMode</span>: <span style="color:#e6db74">&#39;prod&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">RCUDbInfo</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">rcu_prefix</span>: <span style="color:#e6db74">&#39;@@SECRET:@@ENV:DOMAIN_UID@@-rcu-access:rcu_prefix@@&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">rcu_schema_password</span>: <span style="color:#e6db74">&#39;@@SECRET:@@ENV:DOMAIN_UID@@-rcu-access:rcu_schema_password@@&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">rcu_db_conn_string</span>: <span style="color:#e6db74">&#39;@@SECRET:@@ENV:DOMAIN_UID@@-rcu-access:rcu_db_conn_string@@&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">topology</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">AdminServerName</span>: <span style="color:#e6db74">&#39;admin-server&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Name</span>: <span style="color:#e6db74">&#39;@@ENV:CUSTOM_DOMAIN_NAME@@&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Cluster</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#39;cluster-1&#39;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Server</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#39;admin-server&#39;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ListenPort</span>: <span style="color:#ae81ff">7001</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#39;managed-server1-c1-&#39;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Cluster</span>: <span style="color:#e6db74">&#39;cluster-1&#39;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ListenPort</span>: <span style="color:#ae81ff">8001</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#39;managed-server2-c1-&#39;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Cluster</span>: <span style="color:#e6db74">&#39;cluster-1&#39;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ListenPort</span>: <span style="color:#ae81ff">8001</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#39;managed-server3-c1-&#39;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Cluster</span>: <span style="color:#e6db74">&#39;cluster-1&#39;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ListenPort</span>: <span style="color:#ae81ff">8001</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#39;managed-server4-c1-&#39;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Cluster</span>: <span style="color:#e6db74">&#39;cluster-1&#39;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ListenPort</span>: <span style="color:#ae81ff">8001</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">appDeployments</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Application</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">myapp</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">SourcePath</span>: <span style="color:#e6db74">&#39;wlsdeploy/applications/myapp-v1&#39;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ModuleType</span>: <span style="color:#ae81ff">ear</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Target</span>: <span style="color:#e6db74">&#39;cluster-1&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">resources</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">SelfTuning</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">MinThreadsConstraint</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">SampleMinThreads</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Target</span>: <span style="color:#e6db74">&#39;cluster-1&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Count</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">MaxThreadsConstraint</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">SampleMaxThreads</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Target</span>: <span style="color:#e6db74">&#39;cluster-1&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Count</span>: <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">WorkManager</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">SampleWM</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Target</span>: <span style="color:#e6db74">&#39;cluster-1&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">MinThreadsConstraint</span>: <span style="color:#e6db74">&#39;SampleMinThreads&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">MaxThreadsConstraint</span>: <span style="color:#e6db74">&#39;SampleMaxThreads&#39;</span>
</span></span></code></pre></div>
    </div>
</div>
<p>The model files:</p>
<ul>
<li>
<p>Define a WebLogic domain with:</p>
<ul>
<li>Cluster <code>cluster-1</code></li>
<li>Administration Server <code>admin-server</code></li>
<li>A <code>cluster-1</code> targeted <code>ear</code> application that&rsquo;s located in the WDT archive ZIP file at <code>wlsdeploy/applications/myapp-v1</code></li>
<li>A Work Manager <code>SampleWM</code> configured with minimum threads constraint <code>SampleMinThreads</code> and maximum threads constraint <code>SampleMaxThreads</code></li>
</ul>
</li>
<li>
<p>Leverage macros to inject external values:</p>
<ul>
<li>The property file <code>CLUSTER_SIZE</code> property is referenced in the model YAML file <code>DynamicClusterSize</code> and <code>MaxDynamicClusterSize</code> fields using a PROP macro.</li>
<li>The model file domain name is injected using a custom environment variable named <code>CUSTOM_DOMAIN_NAME</code> using an ENV macro.
<ul>
<li>You set this environment variable later in this sample using an <code>env</code> field in its Domain.</li>
<li><em>This conveniently provides a simple way to deploy multiple differently named domains using the same model image.</em></li>
</ul>
</li>
<li>The model file administrator user name and password are set using a <code>weblogic-credentials</code> secret macro reference to the WebLogic credential secret.
<ul>
<li>This secret is in turn referenced using the <code>webLogicCredentialsSecret</code> field in the Domain.</li>
<li>The <code>weblogic-credentials</code> is a reserved name that always dereferences to the owning Domain actual WebLogic credentials secret name.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>A Model in Image image can contain multiple properties files, archive ZIP files, and YAML files but in this sample you use just one of each. For a complete description of Model in Images model file naming conventions, file loading order, and macro syntax, see <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/model-in-image/model-files/">Model files</a> in the Model in Image user documentation.</p>
<h4 id="creating-the-image-with-wit">Creating the image with WIT</h4>
<p><strong>Note</strong>: If you are using JRF in this sample, substitute <code>JRF</code> for each occurrence of <code>WLS</code> in the following <code>imagetool</code> command line.</p>
<p>At this point, you have staged all of the files needed for image <code>model-in-image:WLS-AI-v1</code>; they include:</p>
<ul>
<li><code>/tmp/mii-sample/model-images/weblogic-deploy.zip</code></li>
<li><code>/tmp/mii-sample/model-images/model-in-image__WLS-AI-v1/model.10.yaml</code></li>
<li><code>/tmp/mii-sample/model-images/model-in-image__WLS-AI-v1/model.10.properties</code></li>
<li><code>/tmp/mii-sample/model-images/model-in-image__WLS-AI-v1/archive.zip</code></li>
</ul>
<p>If you don&rsquo;t see the <code>weblogic-deploy.zip</code> file, then you missed a step in the <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/prerequisites/">prerequisites</a>.</p>
<p>Now, you use the Image Tool to create an auxiliary image named <code>model-in-image:WLS-AI-v1</code>. You&rsquo;ve already set up this tool during the prerequisite steps.</p>
<p>Run the following commands to create the image and verify that it worked:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cd /tmp/mii-sample/model-images/model-in-image__WLS-AI-v1
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ /tmp/mii-sample/model-images/imagetool/bin/imagetool.sh createAuxImage <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --tag model-in-image:WLS-AI-v1 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --wdtModel ./model.10.yaml <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --wdtVariables ./model.10.properties <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --wdtArchive ./archive.zip
</span></span></code></pre></div><p>If you don&rsquo;t see the <code>imagetool</code> directory, then you missed a step in the <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/prerequisites/">prerequisites</a>.</p>
<p>This command runs the WebLogic Image Tool in its Model in Image mode, and does the following:</p>
<ul>
<li>Builds the final container image as a layer on a small <code>busybox</code> base image.</li>
<li>Copies the WDT ZIP file that&rsquo;s referenced in the WIT cache into the image.
<ul>
<li>Note that you cached WDT in WIT using the keyword <code>latest</code> when you set up the cache during the sample prerequisites steps.</li>
<li>This lets WIT implicitly assume it&rsquo;s the desired WDT version and removes the need to pass a <code>-wdtVersion</code> flag.</li>
</ul>
</li>
<li>Copies the specified WDT model, properties, and application archives to image location <code>/u01/wdt/models</code>.</li>
</ul>
<p>When the command succeeds, it should end with output like the following:</p>
<pre tabindex="0"><code>[INFO   ] Build successful. Build time=36s. Image tag=model-in-image:WLS-AI-v1
</code></pre><p>Also, if you run the <code>docker images</code> command, then you will see an image named <code>model-in-image:WLS-AI-v1</code>.</p>
<p>After the image is created, it should have the WDT executables in
<code>/auxiliary/weblogic-deploy</code>, and WDT model, property, and archive
files in <code>/auxiliary/models</code>. You can run <code>ls</code> in the Docker
image to verify this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ docker run -it --rm model-in-image:WLS-AI-v1 ls -l /auxiliary
</span></span><span style="display:flex;"><span>  total <span style="color:#ae81ff">8</span>
</span></span><span style="display:flex;"><span>  drwxr-xr-x    <span style="color:#ae81ff">1</span> oracle   root          <span style="color:#ae81ff">4096</span> Jun  <span style="color:#ae81ff">1</span> 21:53 models
</span></span><span style="display:flex;"><span>  drwxr-xr-x    <span style="color:#ae81ff">1</span> oracle   root          <span style="color:#ae81ff">4096</span> May <span style="color:#ae81ff">26</span> 22:29 weblogic-deploy
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ docker run -it --rm model-in-image:WLS-AI-v1 ls -l /auxiliary/models
</span></span><span style="display:flex;"><span>  total <span style="color:#ae81ff">16</span>
</span></span><span style="display:flex;"><span>  -rw-rw-r--    <span style="color:#ae81ff">1</span> oracle   root          <span style="color:#ae81ff">5112</span> Jun  <span style="color:#ae81ff">1</span> 21:52 archive.zip
</span></span><span style="display:flex;"><span>  -rw-rw-r--    <span style="color:#ae81ff">1</span> oracle   root           <span style="color:#ae81ff">173</span> Jun  <span style="color:#ae81ff">1</span> 21:59 model.10.properties
</span></span><span style="display:flex;"><span>  -rw-rw-r--    <span style="color:#ae81ff">1</span> oracle   root          <span style="color:#ae81ff">1515</span> Jun  <span style="color:#ae81ff">1</span> 21:59 model.10.yaml
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ docker run -it --rm model-in-image:WLS-AI-v1 ls -l /auxiliary/weblogic-deploy
</span></span><span style="display:flex;"><span>  total <span style="color:#ae81ff">28</span>
</span></span><span style="display:flex;"><span>  -rw-r-----    <span style="color:#ae81ff">1</span> oracle   root          <span style="color:#ae81ff">4673</span> Oct <span style="color:#ae81ff">22</span>  <span style="color:#ae81ff">2019</span> LICENSE.txt
</span></span><span style="display:flex;"><span>  -rw-r-----    <span style="color:#ae81ff">1</span> oracle   root            <span style="color:#ae81ff">30</span> May <span style="color:#ae81ff">25</span> 11:40 VERSION.txt
</span></span><span style="display:flex;"><span>  drwxr-x---    <span style="color:#ae81ff">1</span> oracle   root          <span style="color:#ae81ff">4096</span> May <span style="color:#ae81ff">26</span> 22:29 bin
</span></span><span style="display:flex;"><span>  drwxr-x---    <span style="color:#ae81ff">1</span> oracle   root          <span style="color:#ae81ff">4096</span> May <span style="color:#ae81ff">25</span> 11:40 etc
</span></span><span style="display:flex;"><span>  drwxr-x---    <span style="color:#ae81ff">1</span> oracle   root          <span style="color:#ae81ff">4096</span> May <span style="color:#ae81ff">25</span> 11:40 lib
</span></span><span style="display:flex;"><span>  drwxr-x---    <span style="color:#ae81ff">1</span> oracle   root          <span style="color:#ae81ff">4096</span> Jan <span style="color:#ae81ff">22</span>  <span style="color:#ae81ff">2019</span> samples
</span></span></code></pre></div><p><strong>NOTE</strong>: If you have Kubernetes cluster worker nodes that are remote to your local machine, then you need to put the image in a location that these nodes can access. See <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/#ensuring-your-kubernetes-cluster-can-access-images">Ensuring your Kubernetes cluster can access images</a>.</p>
<h4 id="deploy-resources---introduction">Deploy resources - Introduction</h4>
<p>In this section, you will deploy the new image to namespace <code>sample-domain1-ns</code>, including the following steps:</p>
<ul>
<li>Create a Secret containing your WebLogic administrator user name and password.</li>
<li>Create a Secret containing your Model in Image runtime encryption password:
<ul>
<li>All Model in Image domains must supply a runtime encryption Secret with a <code>password</code> value.</li>
<li>It is used to encrypt configuration that is passed around internally by the operator.</li>
<li>The value must be kept private but can be arbitrary; you can optionally supply a different secret value every time you restart the domain.</li>
</ul>
</li>
<li>If your domain type is <code>JRF</code>, create secrets containing your RCU access URL, credentials, and prefix.</li>
<li>Deploy a Domain YAML file that references the new image.</li>
<li>Wait for the domain&rsquo;s Pods to start and reach their ready state.</li>
</ul>
<h4 id="secrets">Secrets</h4>
<p>First, create the secrets needed by both <code>WLS</code> and <code>JRF</code> type model domains. In this case, you have two secrets.</p>
<p>Run the following <code>kubectl</code> commands to deploy the required secrets:</p>
<p><strong>NOTE:</strong> Substitute a password of your choice for MY_WEBLOGIC_ADMIN_PASSWORD. This
password should contain at least seven letters plus one digit.</p>
<p><strong>NOTE:</strong> Substitute a password of your choice for MY_RUNTIME_PASSWORD. It should
be unique and different than the admin password, but this is not required.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n sample-domain1-ns create secret generic <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  sample-domain1-weblogic-credentials <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --from-literal<span style="color:#f92672">=</span>username<span style="color:#f92672">=</span>weblogic --from-literal<span style="color:#f92672">=</span>password<span style="color:#f92672">=</span>MY_WEBLOGIC_ADMIN_PASSWORD
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n sample-domain1-ns label  secret <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  sample-domain1-weblogic-credentials <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  weblogic.domainUID<span style="color:#f92672">=</span>sample-domain1
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n sample-domain1-ns create secret generic <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  sample-domain1-runtime-encryption-secret <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --from-literal<span style="color:#f92672">=</span>password<span style="color:#f92672">=</span>MY_RUNTIME_PASSWORD
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n sample-domain1-ns label  secret <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  sample-domain1-runtime-encryption-secret <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  weblogic.domainUID<span style="color:#f92672">=</span>sample-domain1
</span></span></code></pre></div><p>Some important details about these secrets:</p>
<ul>
<li>
<p>The WebLogic credentials secret:</p>
<ul>
<li>It is required and must contain <code>username</code> and <code>password</code> fields.</li>
<li>It must be referenced by the <code>spec.webLogicCredentialsSecret</code> field in your Domain.</li>
<li>It also must be referenced by macros in the <code>domainInfo.AdminUserName</code> and <code>domainInfo.AdminPassWord</code> fields in your model YAML file.</li>
</ul>
</li>
<li>
<p>The Model WDT runtime secret:</p>
<ul>
<li>This is a special secret required by Model in Image.</li>
<li>It must contain a <code>password</code> field.</li>
<li>It must be referenced using the <code>spec.model.runtimeEncryptionSecret</code> field in its Domain.</li>
<li>It must remain the same for as long as the domain is deployed to Kubernetes but can be changed between deployments.</li>
<li>It is used to encrypt data as it&rsquo;s internally passed using log files from the domain&rsquo;s introspector job and on to its WebLogic Server pods.</li>
</ul>
</li>
<li>
<p>Deleting and recreating the secrets:</p>
<ul>
<li>You delete a secret before creating it, otherwise the create command will fail if the secret already exists.</li>
<li>This allows you to change the secret when using the <code>kubectl create secret</code> command.</li>
</ul>
</li>
<li>
<p>You name and label secrets using their associated domain UID for two reasons:</p>
<ul>
<li>To make it obvious which secrets belong to which domains.</li>
<li>To make it easier to clean up a domain. Typical cleanup scripts use the <code>weblogic.domainUID</code> label as a convenience for finding all resources associated with a domain.</li>
</ul>
</li>
</ul>
<p>If you&rsquo;re following the <code>JRF</code> path through the sample, then you also need to deploy the additional secret referenced by macros in the <code>JRF</code> model <code>RCUDbInfo</code> clause, plus an <code>OPSS</code> wallet password secret. For details about the uses of these secrets, see the <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/model-in-image/">Model in Image</a> user documentation.</p>

<div class="expand">
    <div class="expand-label" style="cursor: pointer;" onclick="$h = $(this);$h.next('div').slideToggle(100,function () {$h.children('i').attr('class',function () {return $h.next('div').is(':visible') ? 'fas fa-chevron-down' : 'fas fa-chevron-right';});});">
        <i style="font-size:x-small;" class="fas fa-chevron-right"></i>
        <span>
        
    	
    	Click here for the commands for deploying additional secrets for JRF.
    	
    	</span>
    </div>
    <div class="expand-content" style="display: none;">
        <p><strong>NOTE</strong>: Replace <code>MY_RCU_SCHEMA_PASSWORD</code> with the RCU schema password
that you chose in the prequisite steps when
<a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/prerequisites/#additional-prerequisites-for-jrf-domains">setting up JRF</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n sample-domain1-ns create secret generic <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  sample-domain1-rcu-access <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --from-literal<span style="color:#f92672">=</span>rcu_prefix<span style="color:#f92672">=</span>FMW1 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --from-literal<span style="color:#f92672">=</span>rcu_schema_password<span style="color:#f92672">=</span>MY_RCU_SCHEMA_PASSWORD <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --from-literal<span style="color:#f92672">=</span>rcu_db_conn_string<span style="color:#f92672">=</span>oracle-db.default.svc.cluster.local:1521/devpdb.k8s
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n sample-domain1-ns label  secret <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  sample-domain1-rcu-access <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  weblogic.domainUID<span style="color:#f92672">=</span>sample-domain1
</span></span></code></pre></div><p><strong>NOTES</strong>:</p>
<ul>
<li>Replace <code>MY_OPSS_WALLET_PASSWORD</code> with a password of your choice.
The password can contain letters and digits.</li>
<li>The domain&rsquo;s JRF RCU schema will be automatically initialized
plus generate a JRF OPSS wallet file upon first use.
If you plan to save and reuse this wallet file,
as is necessary for reusing RCU schema data after a migration or restart,
then it will also be necessary to use this same password again.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n sample-domain1-ns create secret generic <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  sample-domain1-opss-wallet-password-secret <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --from-literal<span style="color:#f92672">=</span>walletPassword<span style="color:#f92672">=</span>MY_OPSS_WALLET_PASSWORD
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n sample-domain1-ns label  secret <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  sample-domain1-opss-wallet-password-secret <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  weblogic.domainUID<span style="color:#f92672">=</span>sample-domain1
</span></span></code></pre></div>
    </div>
</div>
<h4 id="domain-resource">Domain resource</h4>
<p>Now, you create a Domain YAML file. A Domain is the key resource that tells the operator how to deploy a WebLogic domain.</p>
<p>Copy the following to a file called <code>/tmp/mii-sample/mii-initial.yaml</code> or similar, or use the file <code>/tmp/mii-sample/domain-resources/WLS-AI/mii-initial-d1-WLS-AI-v1.yaml</code> that is included in the sample source.
This file contains both the domain resource and the referenced cluster resource definition.  See <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/domain-resource/">Domain and Cluster resources</a>.</p>

<div class="expand">
    <div class="expand-label" style="cursor: pointer;" onclick="$h = $(this);$h.next('div').slideToggle(100,function () {$h.children('i').attr('class',function () {return $h.next('div').is(':visible') ? 'fas fa-chevron-down' : 'fas fa-chevron-right';});});">
        <i style="font-size:x-small;" class="fas fa-chevron-right"></i>
        <span>
        
    	
    	Click here to view the WLS Domain YAML file.
    	
    	</span>
    </div>
    <div class="expand-content" style="display: none;">
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e"># Copyright (c) 2021, 2022, Oracle and/or its affiliates.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Licensed under the Universal Permissive License v 1.0 as shown at http://oss.oracle.com/licenses/upl.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># This is an example of how to define a Domain resource.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#e6db74">&#34;weblogic.oracle/v9&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">Domain</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">sample-domain1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">namespace</span>: <span style="color:#ae81ff">sample-domain1-ns</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">labels</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">weblogic.domainUID</span>: <span style="color:#ae81ff">sample-domain1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Set to &#39;FromModel&#39; to indicate &#39;Model in Image&#39;.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">domainHomeSourceType</span>: <span style="color:#ae81ff">FromModel</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># The WebLogic Domain Home, this must be a location within</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># the image for &#39;Model in Image&#39; domains.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">domainHome</span>: <span style="color:#ae81ff">/u01/domains/sample-domain1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># The WebLogic Server image that the Operator uses to start the domain</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># **NOTE**:</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># This sample uses General Availability (GA) images. GA images are suitable for demonstration and</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># development purposes only where the environments are not available from the public Internet;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># they are not acceptable for production use. In production, you should always use CPU (patched)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># images from OCR or create your images using the WebLogic Image Tool.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Please refer to the `OCR` and `WebLogic Images` pages in the WebLogic Kubernetes Operator</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># documentation for details.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">image</span>: <span style="color:#e6db74">&#34;container-registry.oracle.com/middleware/weblogic:12.2.1.4&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Defaults to &#34;Always&#34; if image tag (version) is &#39;:latest&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">imagePullPolicy</span>: <span style="color:#ae81ff">IfNotPresent</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Identify which Secret contains the credentials for pulling an image</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">#imagePullSecrets:</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">#- name: regsecret</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">#- name: regsecret2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Identify which Secret contains the WebLogic Admin credentials,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># the secret must contain &#39;username&#39; and &#39;password&#39; fields.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">webLogicCredentialsSecret</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">sample-domain1-weblogic-credentials</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Whether to include the WebLogic Server stdout in the pod&#39;s stdout, default is true</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">includeServerOutInPodLog</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Whether to enable overriding your log file location, see also &#39;logHome&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">#logHomeEnabled: false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># The location for domain log, server logs, server out, introspector out, and Node Manager log files</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># see also &#39;logHomeEnabled&#39;, &#39;volumes&#39;, and &#39;volumeMounts&#39;.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">#logHome: /shared/logs/sample-domain1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Set which WebLogic Servers the Operator will start</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># - &#34;Never&#34; will not start any server in the domain</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># - &#34;AdminOnly&#34; will start up only the administration server (no managed servers will be started)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># - &#34;IfNeeded&#34; will start all non-clustered servers, including the administration server, and clustered servers up to their replica count.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">serverStartPolicy</span>: <span style="color:#ae81ff">IfNeeded</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Settings for all server pods in the domain including the introspector job pod</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">serverPod</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Optional new or overridden environment variables for the domain&#39;s pods</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># - This sample uses CUSTOM_DOMAIN_NAME in its image model file</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#   to set the WebLogic domain name</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">env</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">CUSTOM_DOMAIN_NAME</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">value</span>: <span style="color:#e6db74">&#34;domain1&#34;</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">JAVA_OPTIONS</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">value</span>: <span style="color:#e6db74">&#34;-Dweblogic.StdoutDebugEnabled=false&#34;</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">USER_MEM_ARGS</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">value</span>: <span style="color:#e6db74">&#34;-Djava.security.egd=file:/dev/./urandom -Xms256m -Xmx512m &#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">resources</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">requests</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">cpu</span>: <span style="color:#e6db74">&#34;250m&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">memory</span>: <span style="color:#e6db74">&#34;768Mi&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Optional volumes and mounts for the domain&#39;s pods. See also &#39;logHome&#39;.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#volumes:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#- name: weblogic-domain-storage-volume</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#  persistentVolumeClaim:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#    claimName: sample-domain1-weblogic-sample-pvc</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#volumeMounts:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#- mountPath: /shared</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#  name: weblogic-domain-storage-volume</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># The desired behavior for starting the domain&#39;s administration server.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># adminServer:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Setup a Kubernetes node port for the administration server default channel</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#adminService:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#  channels:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#  - channelName: default</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#    nodePort: 30701</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># The number of managed servers to start for unlisted clusters</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">replicas</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># The name of each Cluster resource</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">clusters</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">sample-domain1-cluster-1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Change the restartVersion to force the introspector job to rerun</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># and apply any new model configuration, to also force a subsequent</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># roll of your domain&#39;s WebLogic Server pods.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">restartVersion</span>: <span style="color:#e6db74">&#39;1&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Changes to this field cause the operator to repeat its introspection of the</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">#  WebLogic domain configuration.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">introspectVersion</span>: <span style="color:#e6db74">&#39;1&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">configuration</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Settings for domainHomeSourceType &#39;FromModel&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">model</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Valid model domain types are &#39;WLS&#39;, &#39;JRF&#39;, and &#39;RestrictedJRF&#39;, default is &#39;WLS&#39;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">domainType</span>: <span style="color:#ae81ff">WLS</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Optional auxiliary image(s) containing WDT model, archives, and install.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Files are copied from `sourceModelHome` in the aux image to the `/aux/models` directory</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># in running WebLogic Server pods, and files are copied from `sourceWDTInstallHome`</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># to the `/aux/weblogic-deploy` directory. Set `sourceModelHome` and/or `sourceWDTInstallHome`</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># to &#34;None&#34; if you want skip such copies.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">#   `image`                - Image location</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">#   `imagePullPolicy`      - Pull policy, default `IfNotPresent`</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">#   `sourceModelHome`      - Model file directory in image, default `/auxiliary/models`.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">#   `sourceWDTInstallHome` - WDT install directory in image, default `/auxiliary/weblogic-deploy`.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">auxiliaryImages</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">image</span>: <span style="color:#e6db74">&#34;model-in-image:WLS-AI-v1&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#imagePullPolicy: IfNotPresent</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#sourceWDTInstallHome: /auxiliary/weblogic-deploy</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#sourceModelHome: /auxiliary/models</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Optional configmap for additional models and variable files</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">#configMap: sample-domain1-wdt-config-map</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># All &#39;FromModel&#39; domains require a runtimeEncryptionSecret with a &#39;password&#39; field</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">runtimeEncryptionSecret</span>: <span style="color:#ae81ff">sample-domain1-runtime-encryption-secret</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Secrets that are referenced by model yaml macros</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># (the model yaml in the optional configMap or in the image)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#secrets:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#- sample-domain1-datasource-secret</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#e6db74">&#34;weblogic.oracle/v1&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">Cluster</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">sample-domain1-cluster-1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Update this with the namespace your domain will run in:</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">namespace</span>: <span style="color:#ae81ff">sample-domain1-ns</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">labels</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Update this with the `domainUID` of your domain:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">weblogic.domainUID</span>: <span style="color:#ae81ff">sample-domain1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># This must match a cluster name that is  specified in the WebLogic configuration</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">clusterName</span>: <span style="color:#ae81ff">cluster-1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># The number of managed servers to start for this cluster</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">replicas</span>: <span style="color:#ae81ff">2</span>
</span></span></code></pre></div>
    </div>
</div>

<div class="expand">
    <div class="expand-label" style="cursor: pointer;" onclick="$h = $(this);$h.next('div').slideToggle(100,function () {$h.children('i').attr('class',function () {return $h.next('div').is(':visible') ? 'fas fa-chevron-down' : 'fas fa-chevron-right';});});">
        <i style="font-size:x-small;" class="fas fa-chevron-right"></i>
        <span>
        
    	
    	Click here to view the JRF Domain YAML file.
    	
    	</span>
    </div>
    <div class="expand-content" style="display: none;">
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e"># Copyright (c) 2020, 2022, Oracle and/or its affiliates.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Licensed under the Universal Permissive License v 1.0 as shown at http://oss.oracle.com/licenses/upl.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># This is an example of how to define a Domain resource.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#e6db74">&#34;weblogic.oracle/v9&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">Domain</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">sample-domain1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">namespace</span>: <span style="color:#ae81ff">sample-domain1-ns</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">labels</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">weblogic.domainUID</span>: <span style="color:#ae81ff">sample-domain1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Set to &#39;FromModel&#39; to indicate &#39;Model in Image&#39;.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">domainHomeSourceType</span>: <span style="color:#ae81ff">FromModel</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># The WebLogic Domain Home, this must be a location within</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># the image for &#39;Model in Image&#39; domains.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">domainHome</span>: <span style="color:#ae81ff">/u01/domains/sample-domain1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># The WebLogic Server image that the Operator uses to start the domain</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># **NOTE**:</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># This sample uses General Availability (GA) images. GA images are suitable for demonstration and</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># development purposes only where the environments are not available from the public Internet;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># they are not acceptable for production use. In production, you should always use CPU (patched)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># images from OCR or create your images using the WebLogic Image Tool.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Please refer to the `OCR` and `Manage FMW infrastructure domains` pages in the WebLogic</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Kubernetes Operator documentation for details.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">image</span>: <span style="color:#e6db74">&#34;container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.4&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Defaults to &#34;Always&#34; if image tag (version) is &#39;:latest&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">imagePullPolicy</span>: <span style="color:#ae81ff">IfNotPresent</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Identify which Secret contains the credentials for pulling an image</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">#imagePullSecrets:</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">#- name: regsecret</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">#- name: regsecret2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Identify which Secret contains the WebLogic Admin credentials,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># the secret must contain &#39;username&#39; and &#39;password&#39; fields.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">webLogicCredentialsSecret</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">sample-domain1-weblogic-credentials</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Whether to include the WebLogic Server stdout in the pod&#39;s stdout, default is true</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">includeServerOutInPodLog</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Whether to enable overriding your log file location, see also &#39;logHome&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">#logHomeEnabled: false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># The location for domain log, server logs, server out, introspector out, and Node Manager log files</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># see also &#39;logHomeEnabled&#39;, &#39;volumes&#39;, and &#39;volumeMounts&#39;.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">#logHome: /shared/logs/sample-domain1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Set which WebLogic Servers the Operator will start</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># - &#34;Never&#34; will not start any server in the domain</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># - &#34;AdminOnly&#34; will start up only the administration server (no managed servers will be started)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># - &#34;IfNeeded&#34; will start all non-clustered servers, including the administration server, and clustered servers up to their replica count.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">serverStartPolicy</span>: <span style="color:#ae81ff">IfNeeded</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Settings for all server pods in the domain including the introspector job pod</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">serverPod</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Optional new or overridden environment variables for the domain&#39;s pods</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># - This sample uses CUSTOM_DOMAIN_NAME in its image model file</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#   to set the WebLogic domain name</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">env</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">CUSTOM_DOMAIN_NAME</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">value</span>: <span style="color:#e6db74">&#34;domain1&#34;</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">JAVA_OPTIONS</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">value</span>: <span style="color:#e6db74">&#34;-Dweblogic.StdoutDebugEnabled=false&#34;</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">USER_MEM_ARGS</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">value</span>: <span style="color:#e6db74">&#34;-Djava.security.egd=file:/dev/./urandom -Xms256m -Xmx1024m &#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">resources</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">requests</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">cpu</span>: <span style="color:#e6db74">&#34;500m&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">memory</span>: <span style="color:#e6db74">&#34;1280Mi&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Optional volumes and mounts for the domain&#39;s pods. See also &#39;logHome&#39;.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#volumes:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#- name: weblogic-domain-storage-volume</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#  persistentVolumeClaim:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#    claimName: sample-domain1-weblogic-sample-pvc</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#volumeMounts:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#- mountPath: /shared</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#  name: weblogic-domain-storage-volume</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># The desired behavior for starting the domain&#39;s administration server.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">adminServer</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Setup a Kubernetes node port for the administration server default channel</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#adminService:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#  channels:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#  - channelName: default</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#    nodePort: 30701</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">serverPod</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Optional new or overridden environment variables for the admin pods</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">env</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">USER_MEM_ARGS</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">value</span>: <span style="color:#e6db74">&#34;-Djava.security.egd=file:/dev/./urandom -Xms512m -Xmx1024m &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># The number of managed servers to start for unlisted clusters</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">replicas</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># The name of each Cluster resource</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">clusters</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">sample-domain1-cluster-1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Change the restartVersion to force the introspector job to rerun</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># and apply any new model configuration, to also force a subsequent</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># roll of your domain&#39;s WebLogic Server pods.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">restartVersion</span>: <span style="color:#e6db74">&#39;1&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Changes to this field cause the operator to repeat its introspection of the</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">#  WebLogic domain configuration.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">introspectVersion</span>: <span style="color:#e6db74">&#39;1&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">configuration</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Settings for domainHomeSourceType &#39;FromModel&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">model</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Valid model domain types are &#39;WLS&#39;, &#39;JRF&#39;, and &#39;RestrictedJRF&#39;, default is &#39;WLS&#39;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">domainType</span>: <span style="color:#ae81ff">JRF</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Optional auxiliary image(s) containing WDT model, archives, and install.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Files are copied from `sourceModelHome` in the aux image to the `/aux/models` directory</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># in running WebLogic Server pods, and files are copied from `sourceWDTInstallHome`</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># to the `/aux/weblogic-deploy` directory. Set `sourceModelHome` and/or `sourceWDTInstallHome`</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># to &#34;None&#34; if you want skip such copies.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">#   `image`                - Image location</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">#   `imagePullPolicy`      - Pull policy, default `IfNotPresent`</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">#   `sourceModelHome`      - Model file directory in image, default `/auxiliary/models`.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">#   `sourceWDTInstallHome` - WDT install directory in image, default `/auxiliary/weblogic-deploy`.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">auxiliaryImages</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">image</span>: <span style="color:#e6db74">&#34;model-in-image:JRF-AI-v1&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#imagePullPolicy: IfNotPresent</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#sourceWDTInstallHome: /auxiliary/weblogic-deploy</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#sourceModelHome: /auxiliary/models</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Optional configmap for additional models and variable files</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">#configMap: sample-domain1-wdt-config-map</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># All &#39;FromModel&#39; domains require a runtimeEncryptionSecret with a &#39;password&#39; field</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">runtimeEncryptionSecret</span>: <span style="color:#ae81ff">sample-domain1-runtime-encryption-secret</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Secrets that are referenced by model yaml macros</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># (the model yaml in the optional configMap or in the image)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">secrets</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#- sample-domain1-datasource-secret</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">sample-domain1-rcu-access</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Increase the introspector job active timeout value for JRF use cases</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">introspectorJobActiveDeadlineSeconds</span>: <span style="color:#ae81ff">600</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">opss</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Name of secret with walletPassword for extracting the wallet, used for JRF domains</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">walletPasswordSecret</span>: <span style="color:#ae81ff">sample-domain1-opss-wallet-password-secret</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Name of secret with walletFile containing base64 encoded opss wallet, used for JRF domains</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">#walletFileSecret: sample-domain1-opss-walletfile-secret</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#e6db74">&#34;weblogic.oracle/v1&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">Cluster</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">sample-domain1-cluster-1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Update this with the namespace your domain will run in:</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">namespace</span>: <span style="color:#ae81ff">sample-domain1-ns</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">labels</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Update this with the `domainUID` of your domain:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">weblogic.domainUID</span>: <span style="color:#ae81ff">sample-domain1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># This must match a cluster name that is  specified in the WebLogic configuration</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">clusterName</span>: <span style="color:#ae81ff">cluster-1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># The number of managed servers to start for this cluster</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">replicas</span>: <span style="color:#ae81ff">2</span>
</span></span></code></pre></div>
    </div>
</div>
<p><strong>NOTE</strong>: Before you deploy the domain custom resource, determine if you have Kubernetes cluster worker nodes that are remote to your local machine. If so, you need to put the Domain&rsquo;s image in a location that these nodes can access and you may also need to modify your Domain YAML file to reference the new location. See <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/#ensuring-your-kubernetes-cluster-can-access-images">Ensuring your Kubernetes cluster can access images</a>.</p>
<p>Run the following command to create the domain custom resource and the referenced cluster resource:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl apply -f /tmp/mii-sample/domain-resources/WLS-AI/mii-initial-d1-WLS-AI-v1.yaml
</span></span></code></pre></div><p><strong>NOTE</strong>: If you are choosing <em>not</em> to use the predefined Domain YAML file and instead created your own Domain YAML file earlier, then substitute your custom file name in the previous command. Previously, we suggested naming it <code>/tmp/mii-sample/mii-initial.yaml</code>.</p>
<p>If you run <code>kubectl get pods -n sample-domain1-ns --watch</code>, then you will see the introspector job run and your WebLogic Server pods start. The output will look something like this:</p>

<div class="expand">
    <div class="expand-label" style="cursor: pointer;" onclick="$h = $(this);$h.next('div').slideToggle(100,function () {$h.children('i').attr('class',function () {return $h.next('div').is(':visible') ? 'fas fa-chevron-down' : 'fas fa-chevron-right';});});">
        <i style="font-size:x-small;" class="fas fa-chevron-right"></i>
        <span>
        
    	
    	Click here to expand.
    	
    	</span>
    </div>
    <div class="expand-content" style="display: none;">
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get pods -n sample-domain1-ns --watch
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">```</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">```</span>
</span></span><span style="display:flex;"><span>NAME                                         READY   STATUS    RESTARTS   AGE
</span></span><span style="display:flex;"><span>sample-domain1-introspector-lqqj9   0/1   Pending   <span style="color:#ae81ff">0</span>     0s
</span></span><span style="display:flex;"><span>sample-domain1-introspector-lqqj9   0/1   ContainerCreating   <span style="color:#ae81ff">0</span>     0s
</span></span><span style="display:flex;"><span>sample-domain1-introspector-lqqj9   1/1   Running   <span style="color:#ae81ff">0</span>     1s
</span></span><span style="display:flex;"><span>sample-domain1-introspector-lqqj9   0/1   Completed   <span style="color:#ae81ff">0</span>     65s
</span></span><span style="display:flex;"><span>sample-domain1-introspector-lqqj9   0/1   Terminating   <span style="color:#ae81ff">0</span>     65s
</span></span><span style="display:flex;"><span>sample-domain1-admin-server   0/1   Pending   <span style="color:#ae81ff">0</span>     0s
</span></span><span style="display:flex;"><span>sample-domain1-admin-server   0/1   ContainerCreating   <span style="color:#ae81ff">0</span>     0s
</span></span><span style="display:flex;"><span>sample-domain1-admin-server   0/1   Running   <span style="color:#ae81ff">0</span>     1s
</span></span><span style="display:flex;"><span>sample-domain1-admin-server   1/1   Running   <span style="color:#ae81ff">0</span>     32s
</span></span><span style="display:flex;"><span>sample-domain1-managed-server1   0/1   Pending   <span style="color:#ae81ff">0</span>     0s
</span></span><span style="display:flex;"><span>sample-domain1-managed-server2   0/1   Pending   <span style="color:#ae81ff">0</span>     0s
</span></span><span style="display:flex;"><span>sample-domain1-managed-server1   0/1   ContainerCreating   <span style="color:#ae81ff">0</span>     0s
</span></span><span style="display:flex;"><span>sample-domain1-managed-server2   0/1   ContainerCreating   <span style="color:#ae81ff">0</span>     0s
</span></span><span style="display:flex;"><span>sample-domain1-managed-server1   0/1   Running   <span style="color:#ae81ff">0</span>     2s
</span></span><span style="display:flex;"><span>sample-domain1-managed-server2   0/1   Running   <span style="color:#ae81ff">0</span>     2s
</span></span><span style="display:flex;"><span>sample-domain1-managed-server1   1/1   Running   <span style="color:#ae81ff">0</span>     43s
</span></span><span style="display:flex;"><span>sample-domain1-managed-server2   1/1   Running   <span style="color:#ae81ff">0</span>     42s
</span></span></code></pre></div>
    </div>
</div>
<p>For a more detailed view of this activity,
you can use the <code>waitForDomain.sh</code> sample lifecycle script.
This script provides useful information about a domain&rsquo;s pods and
optionally waits for its <code>Completed</code> status condition to become <code>True</code>.
A <code>Completed</code> domain indicates that all of its expected
pods have reached a <code>ready</code> state
plus their target <code>restartVersion</code>, <code>introspectVersion</code>, and <code>image</code>.
For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cd /tmp/weblogic-kubernetes-operator/kubernetes/samples/scripts/domain-lifecycle
</span></span><span style="display:flex;"><span>$ ./waitForDomain.sh -n sample-domain1-ns -d sample-domain1 -p Completed
</span></span></code></pre></div><p>If you see an error, then consult <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/managing-domains/debugging/">Debugging</a>.</p>
<h4 id="invoke-the-web-application">Invoke the web application</h4>
<p>Now that all the initial use case resources have been deployed, you can invoke the sample web application through the Traefik ingress controller&rsquo;s NodePort.</p>
<p><strong>Note</strong>: The web application will display a list of any data sources it finds, but at this point, we don&rsquo;t expect it to find any because the model doesn&rsquo;t contain any.</p>
<p>Send a web application request to the load balancer:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl -s -S -m <span style="color:#ae81ff">10</span> -H <span style="color:#e6db74">&#39;host: sample-domain1-cluster-cluster-1.mii-sample.org&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   http://localhost:30305/myapp_war/index.jsp
</span></span></code></pre></div><p>Or, if Traefik is unavailable and your Administration Server pod is running, you can use <code>kubectl exec</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl exec -n sample-domain1-ns sample-domain1-admin-server -- bash -c <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  <span style="color:#e6db74">&#34;curl -s -S -m 10 http://sample-domain1-cluster-cluster-1:8001/myapp_war/index.jsp&#34;</span>
</span></span></code></pre></div><p>You will see output like the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">html</span>&gt;&lt;<span style="color:#f92672">body</span>&gt;&lt;<span style="color:#f92672">pre</span>&gt;
</span></span><span style="display:flex;"><span>*****************************************************************
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Hello World! This is version &#39;v1&#39; of the mii-sample JSP web-app.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Welcome to WebLogic Server &#39;managed-server2&#39;!
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  domain UID  = &#39;sample-domain1&#39;
</span></span><span style="display:flex;"><span>  domain name = &#39;domain1&#39;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Found 1 local cluster runtime:
</span></span><span style="display:flex;"><span>  Cluster &#39;cluster-1&#39;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Found min threads constraint runtime named &#39;SampleMinThreads&#39; with configured count: 1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Found max threads constraint runtime named &#39;SampleMaxThreads&#39; with configured count: 10
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Found 0 local data sources:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>*****************************************************************
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">pre</span>&gt;&lt;/<span style="color:#f92672">body</span>&gt;&lt;/<span style="color:#f92672">html</span>&gt;
</span></span></code></pre></div><p><strong>Note</strong>: If you&rsquo;re running your <code>curl</code> commands on a remote machine, then substitute <code>localhost</code> with an external address suitable for contacting your Kubernetes cluster. A Kubernetes cluster address that often works can be obtained by using the address just after <code>https://</code> in the KubeDNS line of the output from the <code>kubectl cluster-info</code> command.</p>
<p>If you want to continue to the <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/update1/">Update 1</a> use case, then leave your domain running.</p>
<p>To remove the resources you have created in this sample, see <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/cleanup/">Cleanup</a>.</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/prerequisites/" title="Prerequisites"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="https://oracle.github.io/weblogic-kubernetes-operator/4.0/samples/domains/model-in-image/update1/" title="Update 1" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.0/js/clipboard.min.js?1707276055"></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.0/js/perfect-scrollbar.min.js?1707276055"></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.0/js/perfect-scrollbar.jquery.min.js?1707276055"></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.0/js/jquery.sticky.js?1707276055"></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.0/js/featherlight.min.js?1707276055"></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.0/js/highlight.pack.js?1707276055"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.0/js/modernizr.custom-3.6.0.js?1707276055"></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.0/js/learn.js?1707276055"></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.0/js/hugo-learn.js?1707276055"></script>
    
        
            <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.0/mermaid/mermaid.js?1707276055"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

